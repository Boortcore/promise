!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).Promise=t()}(this,(function(){"use strict";var n,t,e,r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(n){return n&&n.t&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var u=function(){if(r)return e;r=1;const o=function(){if(t)return n;function e(n){return n instanceof s}function r(n){return n.constructor===Array}function i(n){this.name="AggregateError",this.message=n||""}t=1,i.prototype=Error.prototype;const o={i:"fulfilled",o:"rejected",u:"pending"};var u=globalThis.setImmediate||setTimeout,f="Promise.any accepts an array",c="All promises were rejected";function s(n){this.state=o.u,this.h=this.h.bind(this),this.l=this.l.bind(this),this.p=!1,this.v=[];try{n(this.h,this.l)}catch(n){this.l(n)}}var h=s.prototype;return h.T=function(n){this.v.push(n)},h.j=function(){const n=this;n.state!==o.u&&(n.state!==o.o||n.v.length||u((function(){if(!n.p)throw n.value})),n.v.forEach((t=>{u((function(){return n.state===o.i?t.m(n.value):t.A(n.value)}))})),n.v=[])},h.F=function(n,t){const r=this;r.state===o.u&&(e(t)?t.then(r.h,r.l):(r.state=n,r.value=t,r.j()))},h.h=function(n){this.F(o.i,n)},h.l=function(n){this.F(o.o,n)},h.then=function(n,t){n="function"==typeof n?n:function(n){return n},t="function"==typeof t?t:function(n){throw n};var e=this;return e.p=!0,new s((function(r,i){e.T({m:t=>{try{r(n(t))}catch(n){i(n)}},A:n=>{try{r(t(n))}catch(n){i(n)}}}),e.j()}))},h.catch=function(n){return this.then(0,n)},h.finally=function(n){var t=function(t,e){return s.resolve(n()).then((function(){return e?s.reject(t):t}))};return this.then((function(n){return t(n)}),(function(n){return t(n,!0)}))},s.resolve=function(n){return e(n)?n:new s((function(t){t(n)}))},s.reject=function(n){return new s(((t,e)=>e(n)))},s.all=function(n){return new this(((t,e)=>{if(!r(n))return e(new TypeError(f));var i=0,o=[];n.forEach(((r,u)=>{r.then((e=>{o[u]=e,++i===n.length&&t(o)})).catch(e)}))}))},s.any=function(n){return new this(((t,e)=>{if(!r(n))return e(new TypeError(f));if(!n.length)return e(new i(c));var o=0;n.forEach((r=>{s.resolve(r).then((n=>t(n))).catch((()=>{++o===n.length&&e(new i(c))}))}))}))},s.race=function(n){return new this(((t,e)=>{if(!r(n))return e(new TypeError(f));n.forEach((n=>{n.then(t).catch(e)}))}))},s.allSettled=function(n){return new this(((t,e)=>{if(!r(n))return e(new TypeError(f));if(n.length){var i=0,u=[];n.forEach(((n,t)=>{n.then((n=>c(t,o.i,n))).catch((n=>c(t,o.o,n)))}))}else t([]);function c(e,r,o){u[e]={status:r,value:o},++i===n.length&&t(u)}}))},n=s}();var u=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}();return"function"!=typeof u.Promise?u.Promise=o:(u.Promise.prototype.finally||(u.Promise.prototype.finally=o.finally),u.Promise.allSettled||(u.Promise.allSettled=o.allSettled),u.Promise.any||(u.Promise.any=o.any)),e=o}();return o(u)}));
